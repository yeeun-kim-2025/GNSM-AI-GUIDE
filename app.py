# app.py  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# (1) Streamlitì€ set_page_configë¥¼ "ìŠ¤í¬ë¦½íŠ¸ì˜ ì²« Streamlit í˜¸ì¶œ"ë¡œ
#     ë‹¨ 1íšŒë§Œ í—ˆìš©í•©ë‹ˆë‹¤. ë°˜ë“œì‹œ ë§¨ ìœ„ì—ì„œ í˜¸ì¶œí•˜ì„¸ìš”.
import streamlit as st
st.set_page_config(page_title="GNSM-AI Guide", page_icon="ğŸ˜Š", layout="centered")

# (2) ì´í›„ì— ë‹¤ë¥¸ ëª¨ë“ˆ import
import utils  # utils.run_chat_assistant() ì‚¬ìš©

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# ë‹‰ë„¤ì„ ê²Œì´íŠ¸ â†’ ë³„ëª… ì…ë ¥ í›„ ë³¸ ëŒ€í™” UI í‘œì‹œ
if "nickname" not in st.session_state:
    st.markdown(
        "<h1 style='text-align:center;'>ì•ˆë…•í•˜ì„¸ìš”! ğŸ‘‹<br>êµ­ë¦½ê³¼ì²œê³¼í•™ê´€ AI ê°€ì´ë“œì…ë‹ˆë‹¤!</h1>",
        unsafe_allow_html=True,
    )
    nickname = st.text_input("ë³„ëª…ì„ ì…ë ¥í•´ì£¼ì„¸ìš” ğŸ’«", key="nickname_input")
    if st.button("ì…ì¥í•˜ê¸° ğŸšª"):
        if nickname.strip():
            st.session_state.nickname = nickname.strip()
            st.rerun()   # ë³„ëª… ì €ì¥ í›„ UI ì¬ë Œë”
        else:
            st.warning("ë³„ëª…ì„ ì…ë ¥í•´ì•¼ ì…ì¥í•  ìˆ˜ ìˆì–´ìš”!")
    st.stop()  # ë³„ëª… ì…ë ¥ ì „ì—” ì•„ë˜ ì±—ë´‡ UI ë Œë” ì•ˆ í•¨

# ë³„ëª… ì¸ì‚¬
st.markdown(
    f"<h2 style='text-align:center; color:#FFD43B;'>ë°˜ê°€ì›Œìš”, {st.session_state.nickname}ë‹˜! ğŸŒ </h2>",
    unsafe_allow_html=True,
)
st.divider()

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# ë©”ì¸ ì±—ë´‡ UI (utils.run_chat_assistant ë‚´ë¶€ì—ì„œ Streamlit ì‚¬ìš©)
utils.run_chat_assistant()
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
